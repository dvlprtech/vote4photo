import{s as Re,A as Ae,C as Le,T as et,B as Te,L as tt,r as Oe,a as w,f as k,c as C,g as E,h as P,d as u,j as x,i as y,u as Ue,v as Ke,w as Ge,l as z,m as N,y as p,n as st,a0 as at,R as je,K as rt,$ as nt,x as qe,Y as lt,o as ot,z as S}from"../chunks/scheduler.03d4e644.js";import{S as Je,i as Ye,b as d,d as g,m as _,a as $,t as m,e as h,g as Qe,c as We}from"../chunks/index.fe1ef296.js";import{e as Fe,g as ft}from"../chunks/navigation.8ab7a639.js";import{w as ct,b as it,f as ut}from"../chunks/wallet-store.66caea4d.js";import{s as Me}from"../chunks/error-manager.7c808654.js";import{F as $t,E as mt}from"../chunks/error-modal.c9a04700.js";import{a as ie,y as Xe,u as pt,e as dt,z as gt}from"../chunks/fetch-utils.e2def624.js";import{L as me,k as _t,h as ht,j as vt}from"../chunks/index.c1914628.js";import{g as bt,a as wt,B as Ze}from"../chunks/Button.1f35ac66.js";import{P as Ct,C as kt}from"../chunks/Checkbox.9149553d.js";import{I as pe}from"../chunks/Input.65c4dd0c.js";const Et=r=>({}),Be=r=>({});function He(r){let e,s;const t=r[5].title,a=Oe(t,r,r[7],Be),o=a||yt(r);return{c(){e=k("div"),o&&o.c(),this.h()},l(f){e=E(f,"DIV",{class:!0});var n=P(e);o&&o.l(n),n.forEach(u),this.h()},h(){x(e,"class","py-2 px-3 bg-gray-100 rounded-t-md border-b border-gray-200 dark:border-gray-600 dark:bg-gray-700")},m(f,n){y(f,e,n),o&&o.m(e,null),s=!0},p(f,n){a?a.p&&(!s||n&128)&&Ue(a,t,f,f[7],s?Ge(t,f[7],n,Et):Ke(f[7]),Be):o&&o.p&&(!s||n&1)&&o.p(f,s?n:-1)},i(f){s||($(o,f),s=!0)},o(f){m(o,f),s=!1},d(f){f&&u(e),o&&o.d(f)}}}function yt(r){let e,s;return{c(){e=k("h3"),s=z(r[0]),this.h()},l(t){e=E(t,"H3",{class:!0});var a=P(e);s=N(a,r[0]),a.forEach(u),this.h()},h(){x(e,"class","font-semibold text-gray-900 dark:text-white")},m(t,a){y(t,e,a),p(e,s)},p(t,a){a&1&&st(s,t[0])},d(t){t&&u(e)}}}function Dt(r){let e,s,t,a=(r[4].title||r[0])&&He(r);const o=r[5].default,f=Oe(o,r,r[7],null);return{c(){a&&a.c(),e=w(),s=k("div"),f&&f.c(),this.h()},l(n){a&&a.l(n),e=C(n),s=E(n,"DIV",{class:!0});var c=P(s);f&&f.l(c),c.forEach(u),this.h()},h(){x(s,"class",r[1])},m(n,c){a&&a.m(n,c),y(n,e,c),y(n,s,c),f&&f.m(s,null),t=!0},p(n,c){n[4].title||n[0]?a?(a.p(n,c),c&17&&$(a,1)):(a=He(n),a.c(),$(a,1),a.m(e.parentNode,e)):a&&(Qe(),m(a,1,1,()=>{a=null}),We()),f&&f.p&&(!t||c&128)&&Ue(f,o,n,n[7],t?Ge(o,n[7],c,null):Ke(n[7]),null),(!t||c&2)&&x(s,"class",n[1])},i(n){t||($(a),$(f,n),t=!0)},o(n){m(a),m(f,n),t=!1},d(n){n&&(u(e),u(s)),a&&a.d(n),f&&f.d(n)}}}function xt(r){let e,s;const t=[{activeContent:!0},{border:!0},{shadow:!0},{rounded:!0},r[2],{class:"dark:!border-gray-600 "+r[3].class}];let a={$$slots:{default:[Dt]},$$scope:{ctx:r}};for(let o=0;o<t.length;o+=1)a=Ae(a,t[o]);return e=new Ct({props:a}),e.$on("show",r[6]),{c(){d(e.$$.fragment)},l(o){g(e.$$.fragment,o)},m(o,f){_(e,o,f),s=!0},p(o,[f]){const n=f&12?bt(t,[t[0],t[1],t[2],t[3],f&4&&wt(o[2]),f&8&&{class:"dark:!border-gray-600 "+o[3].class}]):{};f&147&&(n.$$scope={dirty:f,ctx:o}),e.$set(n)},i(o){s||($(e.$$.fragment,o),s=!0)},o(o){m(e.$$.fragment,o),s=!1},d(o){h(e,o)}}}function It(r,e,s){const t=["title","defaultClass"];let a=Le(e,t),{$$slots:o={},$$scope:f}=e;const n=et(o);let{title:c=""}=e,{defaultClass:v="py-2 px-3"}=e;function j(D){tt.call(this,r,D)}return r.$$set=D=>{s(3,e=Ae(Ae({},e),Te(D))),s(2,a=Le(e,t)),"title"in D&&s(0,c=D.title),"defaultClass"in D&&s(1,v=D.defaultClass),"$$scope"in D&&s(7,f=D.$$scope)},e=Te(e),[c,v,a,e,n,o,j,f]}class Pt extends Je{constructor(e){super(),Ye(this,e,It,xt,Re,{title:0,defaultClass:1})}}async function Vt(r,...e){const t=new TextEncoder().encode(e.join("")),a=await crypto.subtle.digest(r,t),f=new Uint8Array(a).reduce((c,v)=>c+String.fromCharCode(v),"");return btoa(f)}const At=async r=>{const e=`${Math.floor(Date.now()/1e3/60)}`;console.log("challengeMinuteDate",e),console.log("email",r);const s=await Vt("SHA-256",e,r);return console.log("challenge",s),s};function jt(r){let e;return{c(){e=z("Nombre completo")},l(s){e=N(s,"Nombre completo")},m(s,t){y(s,e,t)},d(s){s&&u(e)}}}function zt(r){let e,s;return e=new ie({props:{icon:_t,slot:"left"}}),{c(){d(e.$$.fragment)},l(t){g(e.$$.fragment,t)},m(t,a){_(e,t,a),s=!0},p:S,i(t){s||($(e.$$.fragment,t),s=!0)},o(t){m(e.$$.fragment,t),s=!1},d(t){h(e,t)}}}function Nt(r){let e;return{c(){e=z("Email")},l(s){e=N(s,"Email")},m(s,t){y(s,e,t)},d(s){s&&u(e)}}}function St(r){let e,s;return e=new ie({props:{icon:ht,slot:"left"}}),{c(){d(e.$$.fragment)},l(t){g(e.$$.fragment,t)},m(t,a){_(e,t,a),s=!0},p:S,i(t){s||($(e.$$.fragment,t),s=!0)},o(t){m(e.$$.fragment,t),s=!1},d(t){h(e,t)}}}function Lt(r){let e;return{c(){e=z("Password")},l(s){e=N(s,"Password")},m(s,t){y(s,e,t)},d(s){s&&u(e)}}}function Tt(r){let e,s;return e=new ie({props:{icon:Xe,slot:"left"}}),{c(){d(e.$$.fragment)},l(t){g(e.$$.fragment,t)},m(t,a){_(e,t,a),s=!0},p:S,i(t){s||($(e.$$.fragment,t),s=!0)},o(t){m(e.$$.fragment,t),s=!1},d(t){h(e,t)}}}function qt(r){let e;return{c(){e=z("Confirma password")},l(s){e=N(s,"Confirma password")},m(s,t){y(s,e,t)},d(s){s&&u(e)}}}function Ft(r){let e,s;return e=new ie({props:{icon:Xe,slot:"left"}}),{c(){d(e.$$.fragment)},l(t){g(e.$$.fragment,t)},m(t,a){_(e,t,a),s=!0},p:S,i(t){s||($(e.$$.fragment,t),s=!0)},o(t){m(e.$$.fragment,t),s=!1},d(t){h(e,t)}}}function Mt(r){var f;let e,s,t,a,o;return s=new me({props:{for:"walletaccount",class:"text-gray-500",$$slots:{default:[Ht]},$$scope:{ctx:r}}}),a=new pe({props:{type:"text",id:"walletaccount",size:"lg",value:`${(f=r[1])==null?void 0:f.name}: ${r[0]}`,readonly:!0,$$slots:{left:[Rt]},$$scope:{ctx:r}}}),{c(){e=k("div"),d(s.$$.fragment),t=w(),d(a.$$.fragment)},l(n){e=E(n,"DIV",{});var c=P(e);g(s.$$.fragment,c),t=C(c),g(a.$$.fragment,c),c.forEach(u)},m(n,c){y(n,e,c),_(s,e,null),p(e,t),_(a,e,null),o=!0},p(n,c){var D;const v={};c&32&&(v.$$scope={dirty:c,ctx:n}),s.$set(v);const j={};c&3&&(j.value=`${(D=n[1])==null?void 0:D.name}: ${n[0]}`),c&32&&(j.$$scope={dirty:c,ctx:n}),a.$set(j)},i(n){o||($(s.$$.fragment,n),$(a.$$.fragment,n),o=!0)},o(n){m(s.$$.fragment,n),m(a.$$.fragment,n),o=!1},d(n){n&&u(e),h(s),h(a)}}}function Bt(r){let e,s;return e=new Ze({props:{type:"button",class:"w-full",color:"alternative",$$slots:{default:[Ot]},$$scope:{ctx:r}}}),e.$on("click",ut),{c(){d(e.$$.fragment)},l(t){g(e.$$.fragment,t)},m(t,a){_(e,t,a),s=!0},p(t,a){const o={};a&32&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){m(e.$$.fragment,t),s=!1},d(t){h(e,t)}}}function Ht(r){let e;return{c(){e=z("Cuenta conectada")},l(s){e=N(s,"Cuenta conectada")},m(s,t){y(s,e,t)},d(s){s&&u(e)}}}function Rt(r){let e,s;return e=new ie({props:{icon:vt,slot:"left"}}),{c(){d(e.$$.fragment)},l(t){g(e.$$.fragment,t)},m(t,a){_(e,t,a),s=!0},p:S,i(t){s||($(e.$$.fragment,t),s=!0)},o(t){m(e.$$.fragment,t),s=!1},d(t){h(e,t)}}}function Ot(r){let e,s,t;return e=new ie({props:{icon:gt,class:"text-xl mr-2"}}),{c(){d(e.$$.fragment),s=z(`    
							Conecta tu wallet`)},l(a){g(e.$$.fragment,a),s=N(a,`    
							Conecta tu wallet`)},m(a,o){_(e,a,o),y(a,s,o),t=!0},p:S,i(a){t||($(e.$$.fragment,a),t=!0)},o(a){m(e.$$.fragment,a),t=!1},d(a){a&&u(s),h(e,a)}}}function Ut(r){let e,s="Condiciones legales";return{c(){e=k("a"),e.textContent=s,this.h()},l(t){e=E(t,"A",{id:!0,class:!0,"data-svelte-h":!0}),je(e)!=="svelte-15z2ep2"&&(e.textContent=s),this.h()},h(){x(e,"id","terms_and_conditions"),x(e,"class","font-medium text-primary-600 hover:underline ")},m(t,a){y(t,e,a)},p:S,d(t){t&&u(e)}}}function Kt(r){let e;return{c(){e=z(r[3])},l(s){e=N(s,r[3])},m(s,t){y(s,e,t)},p:S,d(s){s&&u(e)}}}function Gt(r){let e,s,t;return e=new ie({props:{icon:pt,color:"white",class:"text-xl mr-2"}}),{c(){d(e.$$.fragment),s=z(`    
						Registrarse`)},l(a){g(e.$$.fragment,a),s=N(a,`    
						Registrarse`)},m(a,o){_(e,a,o),y(a,s,o),t=!0},p:S,i(a){t||($(e.$$.fragment,a),t=!0)},o(a){m(e.$$.fragment,a),t=!1},d(a){a&&u(s),h(e,a)}}}function Jt(r){let e,s,t,a,o=`<img class="w-20 h-20 mr-2" src="/images/logo.svg" alt="Logo Vote4Photo"/>
			Vote4Photo`,f,n,c,v,j="Crea tu cuenta",D,b,W,L,ve,T,be,X,q,we,F,Ce,M,Z,B,ke,H,Ee,ee,R,ye,O,De,V,A,de,U,K,xe,G,Ie,J,ge,te,_e,se,he,Pe,ze;L=new me({props:{for:"fullName",class:"text-gray-500",$$slots:{default:[jt]},$$scope:{ctx:r}}}),T=new pe({props:{type:"text",name:"fullName",id:"fullName",placeholder:"John Doe",required:"true",size:"lg",$$slots:{left:[zt]},$$scope:{ctx:r}}}),q=new me({props:{for:"email",class:"text-gray-500",$$slots:{default:[Nt]},$$scope:{ctx:r}}}),F=new pe({props:{type:"email",name:"email",id:"email",placeholder:"name@example.com",required:"true",size:"lg",$$slots:{left:[St]},$$scope:{ctx:r}}}),B=new me({props:{for:"password",class:"text-gray-500",$$slots:{default:[Lt]},$$scope:{ctx:r}}}),H=new pe({props:{type:"password",name:"password",id:"password",required:"true",size:"lg",$$slots:{left:[Tt]},$$scope:{ctx:r}}}),R=new me({props:{for:"password2",class:"text-gray-500",$$slots:{default:[qt]},$$scope:{ctx:r}}}),O=new pe({props:{type:"password",name:"password2",id:"password2",required:"true",size:"lg",$$slots:{left:[Ft]},$$scope:{ctx:r}}});const Ne=[Bt,Mt],Y=[];function Se(l,i){return l[0]===void 0?0:1}return V=Se(r),A=Y[V]=Ne[V](r),K=new kt({props:{id:"terms",name:"terms",required:"true",$$slots:{default:[Ut]},$$scope:{ctx:r}}}),G=new Pt({props:{class:"w-64 text-sm font-light ",title:"Términos y condiciones",triggeredBy:"#terms_and_conditions",$$slots:{default:[Kt]},$$scope:{ctx:r}}}),J=new Ze({props:{type:"submit",class:"w-full bg-secondary-600 hover:bg-secondary-500",disabled:!r[0],$$slots:{default:[Gt]},$$scope:{ctx:r}}}),te=new $t({}),se=new mt({}),{c(){e=w(),s=k("section"),t=k("div"),a=k("a"),a.innerHTML=o,f=w(),n=k("div"),c=k("div"),v=k("h1"),v.textContent=j,D=w(),b=k("form"),W=k("div"),d(L.$$.fragment),ve=w(),d(T.$$.fragment),be=w(),X=k("div"),d(q.$$.fragment),we=w(),d(F.$$.fragment),Ce=w(),M=k("div"),Z=k("div"),d(B.$$.fragment),ke=w(),d(H.$$.fragment),Ee=w(),ee=k("div"),d(R.$$.fragment),ye=w(),d(O.$$.fragment),De=w(),A.c(),de=w(),U=k("p"),d(K.$$.fragment),xe=w(),d(G.$$.fragment),Ie=w(),d(J.$$.fragment),ge=w(),d(te.$$.fragment),_e=w(),d(se.$$.fragment),this.h()},l(l){at("svelte-14vr3n0",document.head).forEach(u),e=C(l),s=E(l,"SECTION",{class:!0});var ue=P(s);t=E(ue,"DIV",{class:!0});var ae=P(t);a=E(ae,"A",{href:!0,class:!0,"data-svelte-h":!0}),je(a)!=="svelte-1cqpjo5"&&(a.innerHTML=o),f=C(ae),n=E(ae,"DIV",{class:!0});var $e=P(n);c=E($e,"DIV",{class:!0});var re=P(c);v=E(re,"H1",{class:!0,"data-svelte-h":!0}),je(v)!=="svelte-18g5fm7"&&(v.textContent=j),D=C(re),b=E(re,"FORM",{class:!0});var I=P(b);W=E(I,"DIV",{});var ne=P(W);g(L.$$.fragment,ne),ve=C(ne),g(T.$$.fragment,ne),ne.forEach(u),be=C(I),X=E(I,"DIV",{});var le=P(X);g(q.$$.fragment,le),we=C(le),g(F.$$.fragment,le),le.forEach(u),Ce=C(I),M=E(I,"DIV",{class:!0});var oe=P(M);Z=E(oe,"DIV",{});var Q=P(Z);g(B.$$.fragment,Q),ke=C(Q),g(H.$$.fragment,Q),Q.forEach(u),Ee=C(oe),ee=E(oe,"DIV",{});var fe=P(ee);g(R.$$.fragment,fe),ye=C(fe),g(O.$$.fragment,fe),fe.forEach(u),oe.forEach(u),De=C(I),A.l(I),de=C(I),U=E(I,"P",{class:!0});var ce=P(U);g(K.$$.fragment,ce),xe=C(ce),g(G.$$.fragment,ce),ce.forEach(u),Ie=C(I),g(J.$$.fragment,I),I.forEach(u),re.forEach(u),$e.forEach(u),ae.forEach(u),ue.forEach(u),ge=C(l),g(te.$$.fragment,l),_e=C(l),g(se.$$.fragment,l),this.h()},h(){document.title="Vote4Photo - Acceso",x(a,"href","/"),x(a,"class","flex items-center mb-6 font-semibold text-gray-600 dark:text-white text-4xl"),x(v,"class","text-2xl font-semibold leading-tight tracking-tight text-gray-700 "),x(M,"class","flex flex-row gap-2"),x(U,"class","text-sm font-light text-gray-500 dark:text-gray-400"),x(b,"class","space-y-4 md:space-y-6"),x(c,"class","p-6 space-y-4 md:space-y-6 sm:p-8"),x(n,"class","w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0"),x(t,"class","flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"),x(s,"class","bg-gray-50 min-h-full")},m(l,i){y(l,e,i),y(l,s,i),p(s,t),p(t,a),p(t,f),p(t,n),p(n,c),p(c,v),p(c,D),p(c,b),p(b,W),_(L,W,null),p(W,ve),_(T,W,null),p(b,be),p(b,X),_(q,X,null),p(X,we),_(F,X,null),p(b,Ce),p(b,M),p(M,Z),_(B,Z,null),p(Z,ke),_(H,Z,null),p(M,Ee),p(M,ee),_(R,ee,null),p(ee,ye),_(O,ee,null),p(b,De),Y[V].m(b,null),p(b,de),p(b,U),_(K,U,null),p(U,xe),_(G,U,null),p(b,Ie),_(J,b,null),y(l,ge,i),_(te,l,i),y(l,_e,i),_(se,l,i),he=!0,Pe||(ze=rt(b,"submit",nt(r[2])),Pe=!0)},p(l,[i]){const ue={};i&32&&(ue.$$scope={dirty:i,ctx:l}),L.$set(ue);const ae={};i&32&&(ae.$$scope={dirty:i,ctx:l}),T.$set(ae);const $e={};i&32&&($e.$$scope={dirty:i,ctx:l}),q.$set($e);const re={};i&32&&(re.$$scope={dirty:i,ctx:l}),F.$set(re);const I={};i&32&&(I.$$scope={dirty:i,ctx:l}),B.$set(I);const ne={};i&32&&(ne.$$scope={dirty:i,ctx:l}),H.$set(ne);const le={};i&32&&(le.$$scope={dirty:i,ctx:l}),R.$set(le);const oe={};i&32&&(oe.$$scope={dirty:i,ctx:l}),O.$set(oe);let Q=V;V=Se(l),V===Q?Y[V].p(l,i):(Qe(),m(Y[Q],1,1,()=>{Y[Q]=null}),We(),A=Y[V],A?A.p(l,i):(A=Y[V]=Ne[V](l),A.c()),$(A,1),A.m(b,de));const fe={};i&32&&(fe.$$scope={dirty:i,ctx:l}),K.$set(fe);const ce={};i&32&&(ce.$$scope={dirty:i,ctx:l}),G.$set(ce);const Ve={};i&1&&(Ve.disabled=!l[0]),i&32&&(Ve.$$scope={dirty:i,ctx:l}),J.$set(Ve)},i(l){he||($(L.$$.fragment,l),$(T.$$.fragment,l),$(q.$$.fragment,l),$(F.$$.fragment,l),$(B.$$.fragment,l),$(H.$$.fragment,l),$(R.$$.fragment,l),$(O.$$.fragment,l),$(A),$(K.$$.fragment,l),$(G.$$.fragment,l),$(J.$$.fragment,l),$(te.$$.fragment,l),$(se.$$.fragment,l),he=!0)},o(l){m(L.$$.fragment,l),m(T.$$.fragment,l),m(q.$$.fragment,l),m(F.$$.fragment,l),m(B.$$.fragment,l),m(H.$$.fragment,l),m(R.$$.fragment,l),m(O.$$.fragment,l),m(A),m(K.$$.fragment,l),m(G.$$.fragment,l),m(J.$$.fragment,l),m(te.$$.fragment,l),m(se.$$.fragment,l),he=!1},d(l){l&&(u(e),u(s),u(ge),u(_e)),h(L),h(T),h(q),h(F),h(B),h(H),h(R),h(O),Y[V].d(),h(K),h(G),h(J),h(te,l),h(se,l),Pe=!1,ze()}}}function Yt(r,e,s){let t,a;qe(r,ct,n=>s(0,t=n)),qe(r,it,n=>s(1,a=n)),lt(Fe);const o=async n=>{const c=new FormData(n.target);if(!t){Me("Es necesario conectar con una wallet para poder acceder");return}if(c.get("password")!==c.get("password2")){Me("Las contraseñas no coinciden");return}const v=await dt("/api/account/signup",{method:"POST",headers:{"x-v4p-challenge":await At(c.get("email"))},payload:{fullName:c.get("fullName"),email:c.get("email"),password:c.get("password"),terms:c.get("terms"),chainId:a==null?void 0:a.id,account:t}});if(v.status===200){console.log("Cuenta creada correctamente");const j=await v.json();Fe.set(j.jwt),ft("/app/home")}};return ot(async()=>{}),[t,a,o,`
	La presente aplicación es una PoC sin objetivo comercial, creada exclusivamente para fines educativos.
	Si has llegado por accidente a esta página, por favor, no introduzcas tus datos personales.
	`]}class os extends Je{constructor(e){super(),Ye(this,e,Yt,Jt,Re,{})}}export{os as component};
