import{s as _t}from"./error-manager.d127ec17.js";import{w as Se}from"./index.360b1b54.js";import{Y as G}from"./scheduler.5287e156.js";const Wt={ForwardRequest:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint48"},{name:"data",type:"bytes"}],EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}]};function Vt(e,t){const r=e.exec(t);return r==null?void 0:r.groups}const Ze=/^tuple(?<array>(\[(\d*)\])*)$/;function Ee(e){let t=e.type;if(Ze.test(e.type)&&"components"in e){t="(";const r=e.components.length;for(let o=0;o<r;o++){const s=e.components[o];t+=Ee(s),o<r-1&&(t+=", ")}const n=Vt(Ze,e.type);return t+=`)${(n==null?void 0:n.array)??""}`,Ee({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function U(e){let t="";const r=e.length;for(let n=0;n<r;n++){const o=e[n];t+=Ee(o),n!==r-1&&(t+=", ")}return t}function Jt(e){return e.type==="function"?`function ${e.name}(${U(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${U(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${U(e.inputs)})`:e.type==="error"?`error ${e.name}(${U(e.inputs)})`:e.type==="constructor"?`constructor(${U(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}function m(e,t,r){return n=>{var o;return((o=e[t.name||r])==null?void 0:o.call(e,n))??t(e,n)}}function $e(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new ir(e.type);return`${e.name}(${dt(e.inputs,{includeName:t})})`}function dt(e,{includeName:t=!1}={}){return e?e.map(r=>Xt(r,{includeName:t})).join(t?", ":","):""}function Xt(e,{includeName:t}){return e.type.startsWith("tuple")?`(${dt(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function z(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function w(e){return z(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Yt="1.21.3",lt=e=>e,Kt=()=>`viem@${Yt}`;class d extends Error{constructor(t,r={}){var s;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:Kt()});const n=r.cause instanceof d?r.cause.details:(s=r.cause)!=null&&s.message?r.cause.message:r.details,o=r.cause instanceof d&&r.cause.docsPath||r.docsPath;this.message=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...o?[`Docs: https://viem.sh${o}.html${r.docsSlug?`#${r.docsSlug}`:""}`]:[],...n?[`Details: ${n}`]:[],`Version: ${this.version}`].join(`
`),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=o,this.metaMessages=r.metaMessages,this.shortMessage=t}walk(t){return ft(this,t)}}function ft(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?ft(e.cause,t):t?null:e}class Zt extends d{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class Qe extends d{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class Qt extends d{constructor({expectedLength:t,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${t}`,`Given length: ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class er extends d{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${w(r)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class tr extends d{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class et extends d{constructor(t,{docsPath:r}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class rr extends d{constructor(t,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${$e(t.abiItem)}\`, and`,`\`${r.type}\` in \`${$e(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class nr extends d{constructor({expectedSize:t,givenSize:r}){super(`Expected bytes${t}, got bytes${r}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class or extends d{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class sr extends d{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class ir extends d{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class ht extends d{constructor({offset:t,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class pt extends d{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${t}) exceeds padding size (${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function k(e,{dir:t,size:r=32}={}){return typeof e=="string"?T(e,{dir:t,size:r}):ar(e,{dir:t,size:r})}function T(e,{dir:t,size:r=32}={}){if(r===null)return e;const n=e.replace("0x","");if(n.length>r*2)throw new pt({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[t==="right"?"padEnd":"padStart"](r*2,"0")}`}function ar(e,{dir:t,size:r=32}={}){if(r===null)return e;if(e.length>r)throw new pt({size:e.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let o=0;o<r;o++){const s=t==="right";n[s?o:r-o-1]=e[s?o:e.length-o-1]}return n}class ur extends d{constructor({max:t,min:r,signed:n,size:o,value:s}){super(`Number "${s}" is not in safe ${o?`${o*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${t?`(${r} to ${t})`:`(above ${r})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class cr extends d{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function R(e,{size:t}){if(w(e)>t)throw new cr({givenSize:w(e),maxSize:t})}function bt(e,t={}){const{signed:r}=t;t.size&&R(e,{size:t.size});const n=BigInt(e);if(!r)return n;const o=(e.length-2)/2,s=(1n<<BigInt(o)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(o*2,"f")}`)-1n}function D(e,t={}){return Number(bt(e,t))}const dr=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function yt(e,t={}){return typeof e=="number"||typeof e=="bigint"?y(e,t):typeof e=="string"?ze(e,t):typeof e=="boolean"?gt(e,t):mt(e,t)}function gt(e,t={}){const r=`0x${Number(e)}`;return typeof t.size=="number"?(R(r,{size:t.size}),k(r,{size:t.size})):r}function mt(e,t={}){let r="";for(let o=0;o<e.length;o++)r+=dr[e[o]];const n=`0x${r}`;return typeof t.size=="number"?(R(n,{size:t.size}),k(n,{dir:"right",size:t.size})):n}function y(e,t={}){const{signed:r,size:n}=t,o=BigInt(e);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof s=="bigint"&&r?-s-1n:0;if(s&&o>s||o<i){const u=typeof e=="bigint"?"n":"";throw new ur({max:s?`${s}${u}`:void 0,min:`${i}${u}`,signed:r,size:n,value:`${e}${u}`})}const a=`0x${(r&&o<0?(1n<<BigInt(n*8))+BigInt(o):o).toString(16)}`;return n?k(a,{size:n}):a}const lr=new TextEncoder;function ze(e,t={}){const r=lr.encode(e);return mt(r,t)}const fr=new TextEncoder;function ke(e,t={}){return typeof e=="number"||typeof e=="bigint"?pr(e,t):typeof e=="boolean"?hr(e,t):z(e)?wt(e,t):Pt(e,t)}function hr(e,t={}){const r=new Uint8Array(1);return r[0]=Number(e),typeof t.size=="number"?(R(r,{size:t.size}),k(r,{size:t.size})):r}const j={zero:48,nine:57,A:65,F:70,a:97,f:102};function tt(e){if(e>=j.zero&&e<=j.nine)return e-j.zero;if(e>=j.A&&e<=j.F)return e-(j.A-10);if(e>=j.a&&e<=j.f)return e-(j.a-10)}function wt(e,t={}){let r=e;t.size&&(R(r,{size:t.size}),r=k(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const o=n.length/2,s=new Uint8Array(o);for(let i=0,a=0;i<o;i++){const u=tt(n.charCodeAt(a++)),c=tt(n.charCodeAt(a++));if(u===void 0||c===void 0)throw new d(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[i]=u*16+c}return s}function pr(e,t){const r=y(e,t);return wt(r)}function Pt(e,t={}){const r=fr.encode(e);return typeof t.size=="number"?(R(r,{size:t.size}),k(r,{dir:"right",size:t.size})):r}function br(e){let t=!0,r="",n=0,o="",s=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&n++,a===")"&&n--,!!t){if(n===0){if(a===" "&&["event","function",""].includes(o))o="";else if(o+=a,a===")"){s=!0;break}continue}if(a===" "){e[i-1]!==","&&r!==","&&r!==",("&&(r="",t=!1);continue}o+=a,r+=a}}if(!s)throw new d("Unable to normalize signature.");return o}const xt=e=>{const t=(()=>typeof e=="string"?e:Jt(e))();return br(t)},yr=e=>xt(e);function rt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function vt(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function nt(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function gr(e,t){vt(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const de=BigInt(2**32-1),ot=BigInt(32);function mr(e,t=!1){return t?{h:Number(e&de),l:Number(e>>ot&de)}:{h:Number(e>>ot&de)|0,l:Number(e&de)|0}}function wr(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:s,l:i}=mr(e[o],t);[r[o],n[o]]=[s,i]}return[r,n]}const Pr=(e,t,r)=>e<<r|t>>>32-r,xr=(e,t,r)=>t<<r|e>>>32-r,vr=(e,t,r)=>t<<r-32|e>>>64-r,Er=(e,t,r)=>e<<r-32|t>>>64-r;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $r=e=>e instanceof Uint8Array,Ar=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Or=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Or)throw new Error("Non little-endian hardware is not supported");function jr(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Et(e){if(typeof e=="string"&&(e=jr(e)),!$r(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}class Tr{clone(){return this._cloneInto()}}function Fr(e){const t=n=>e().update(Et(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}const[$t,At,Ot]=[[],[],[]],Ir=BigInt(0),H=BigInt(1),Mr=BigInt(2),Cr=BigInt(7),Br=BigInt(256),Gr=BigInt(113);for(let e=0,t=H,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],$t.push(2*(5*n+r)),At.push((e+1)*(e+2)/2%64);let o=Ir;for(let s=0;s<7;s++)t=(t<<H^(t>>Cr)*Gr)%Br,t&Mr&&(o^=H<<(H<<BigInt(s))-H);Ot.push(o)}const[Sr,zr]=wr(Ot,!0),st=(e,t,r)=>r>32?vr(e,t,r):Pr(e,t,r),it=(e,t,r)=>r>32?Er(e,t,r):xr(e,t,r);function kr(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let i=0;i<10;i++)r[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,u=(i+2)%10,c=r[u],l=r[u+1],h=st(c,l,1)^r[a],f=it(c,l,1)^r[a+1];for(let b=0;b<50;b+=10)e[i+b]^=h,e[i+b+1]^=f}let o=e[2],s=e[3];for(let i=0;i<24;i++){const a=At[i],u=st(o,s,a),c=it(o,s,a),l=$t[i];o=e[l],s=e[l+1],e[l]=u,e[l+1]=c}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)r[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=Sr[n],e[1]^=zr[n]}r.fill(0)}class Re extends Tr{constructor(t,r,n,o=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,rt(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ar(this.state)}keccak(){kr(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){nt(this);const{blockLen:r,state:n}=this;t=Et(t);const o=t.length;for(let s=0;s<o;){const i=Math.min(r-this.pos,o-s);for(let a=0;a<i;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:o}=this;t[n]^=r,r&128&&n===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){nt(this,!1),vt(t),this.finish();const r=this.state,{blockLen:n}=this;for(let o=0,s=t.length;o<s;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,s-o);t.set(r.subarray(this.posOut,this.posOut+i),o),this.posOut+=i,o+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return rt(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(gr(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:o,rounds:s,enableXOF:i}=this;return t||(t=new Re(r,n,o,i,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=o,t.enableXOF=i,t.destroyed=this.destroyed,t}}const Rr=(e,t,r)=>Fr(()=>new Re(t,e,r)),Lr=Rr(1,136,256/8);function Le(e,t){const r=t||"hex",n=Lr(z(e,{strict:!1})?ke(e):e);return r==="bytes"?n:yt(n)}const Nr=e=>Le(ke(e)),qr=e=>Nr(yr(e));class I extends d{constructor({address:t}){super(`Address "${t}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const Ur=/^0x[a-fA-F0-9]{40}$/;function $(e){return Ur.test(e)}function S(e){return typeof e[0]=="string"?Ne(e):Hr(e)}function Hr(e){let t=0;for(const o of e)t+=o.length;const r=new Uint8Array(t);let n=0;for(const o of e)r.set(o,n),n+=o.length;return r}function Ne(e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}function jt(e,t,r,{strict:n}={}){return z(e,{strict:!1})?_r(e,t,r,{strict:n}):Dr(e,t,r,{strict:n})}function Tt(e,t){if(typeof t=="number"&&t>0&&t>w(e)-1)throw new ht({offset:t,position:"start",size:w(e)})}function Ft(e,t,r){if(typeof t=="number"&&typeof r=="number"&&w(e)!==r-t)throw new ht({offset:r,position:"end",size:w(e)})}function Dr(e,t,r,{strict:n}={}){Tt(e,t);const o=e.slice(t,r);return n&&Ft(o,t,r),o}function _r(e,t,r,{strict:n}={}){Tt(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&Ft(o,t,r),o}function It(e,t){if(e.length!==t.length)throw new tr({expectedLength:e.length,givenLength:t.length});const r=Wr({params:e,values:t}),n=Ue(r);return n.length===0?"0x":n}function Wr({params:e,values:t}){const r=[];for(let n=0;n<e.length;n++)r.push(qe({param:e[n],value:t[n]}));return r}function qe({param:e,value:t}){const r=en(e.type);if(r){const[n,o]=r;return Jr(t,{length:n,param:{...e,type:o}})}if(e.type==="tuple")return Qr(t,{param:e});if(e.type==="address")return Vr(t);if(e.type==="bool")return Yr(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const n=e.type.startsWith("int");return Kr(t,{signed:n})}if(e.type.startsWith("bytes"))return Xr(t,{param:e});if(e.type==="string")return Zr(t);throw new or(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Ue(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:i,encoded:a}=e[s];i?t+=32:t+=w(a)}const r=[],n=[];let o=0;for(let s=0;s<e.length;s++){const{dynamic:i,encoded:a}=e[s];i?(r.push(y(t+o,{size:32})),n.push(a),o+=w(a)):r.push(a)}return S([...r,...n])}function Vr(e){if(!$(e))throw new I({address:e});return{dynamic:!1,encoded:T(e.toLowerCase())}}function Jr(e,{length:t,param:r}){const n=t===null;if(!Array.isArray(e))throw new sr(e);if(!n&&e.length!==t)throw new Qt({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let o=!1;const s=[];for(let i=0;i<e.length;i++){const a=qe({param:r,value:e[i]});a.dynamic&&(o=!0),s.push(a)}if(n||o){const i=Ue(s);if(n){const a=y(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?S([a,i]):a}}if(o)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:S(s.map(({encoded:i})=>i))}}function Xr(e,{param:t}){const[,r]=t.type.split("bytes"),n=w(e);if(!r){let o=e;return n%32!==0&&(o=T(o,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:S([T(y(n,{size:32})),o])}}if(n!==parseInt(r))throw new er({expectedSize:parseInt(r),value:e});return{dynamic:!1,encoded:T(e,{dir:"right"})}}function Yr(e){return{dynamic:!1,encoded:T(gt(e))}}function Kr(e,{signed:t}){return{dynamic:!1,encoded:y(e,{size:32,signed:t})}}function Zr(e){const t=ze(e),r=Math.ceil(w(t)/32),n=[];for(let o=0;o<r;o++)n.push(T(jt(t,o*32,(o+1)*32),{dir:"right"}));return{dynamic:!0,encoded:S([T(y(w(t),{size:32})),...n])}}function Qr(e,{param:t}){let r=!1;const n=[];for(let o=0;o<t.components.length;o++){const s=t.components[o],i=Array.isArray(e)?o:s.name,a=qe({param:s,value:e[i]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?Ue(n):S(n.map(({encoded:o})=>o))}}function en(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const tn=e=>Le(ke(e)),Mt=e=>jt(tn(xt(e)),0,4);function rn({abi:e,args:t=[],name:r}){const n=z(r,{strict:!1}),o=e.filter(i=>n?i.type==="function"?Mt(i)===r:i.type==="event"?qr(i)===r:!1:"name"in i&&i.name===r);if(o.length===0)return;if(o.length===1)return o[0];let s;for(const i of o){if(!("inputs"in i))continue;if(!t||t.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==t.length)continue;if(t.every((u,c)=>{const l="inputs"in i&&i.inputs[c];return l?Ae(u,l):!1})){if(s&&"inputs"in s&&s.inputs){const u=Ct(i.inputs,s.inputs,t);if(u)throw new rr({abiItem:i,type:u[0]},{abiItem:s,type:u[1]})}s=i}}return s||o[0]}function Ae(e,t){const r=typeof e,n=t.type;switch(n){case"address":return $(e);case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in t?Object.values(t.components).every((o,s)=>Ae(Object.values(e)[s],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(e)&&e.every(o=>Ae(o,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ct(e,t,r){for(const n in e){const o=e[n],s=t[n];if(o.type==="tuple"&&s.type==="tuple"&&"components"in o&&"components"in s)return Ct(o.components,s.components,r[n]);const i=[o.type,s.type];if((()=>i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")||i.includes("address")&&i.includes("bytes")?$(r[n]):!1)())return i}}function F(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}function nn({abi:e,args:t,functionName:r}){let n=e[0];if(r&&(n=rn({abi:e,args:t,name:r}),!n))throw new et(r,{docsPath:"/docs/contract/encodeFunctionData"});if(n.type!=="function")throw new et(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const o=$e(n),s=Mt(o),i="inputs"in n&&n.inputs?It(n.inputs,t??[]):void 0;return Ne([s,i??"0x"])}function Bt(e,t){const r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=Le(Pt(r),"bytes"),o=(t?r.substring(`${t}0x`.length):r).split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&o[s]&&(o[s]=o[s].toUpperCase()),(n[s>>1]&15)>=8&&o[s+1]&&(o[s+1]=o[s+1].toUpperCase());return`0x${o.join("")}`}function on(e,t){if(!$(e))throw new I({address:e});return Bt(e,t)}const He=(e,t,r)=>JSON.stringify(e,(n,o)=>{const s=typeof o=="bigint"?o.toString():o;return typeof t=="function"?t(n,s):s},r),sn={gwei:9,wei:18},an={ether:-9,wei:9};function Gt(e,t){let r=e.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(t,"0");let[o,s]=[r.slice(0,r.length-t),r.slice(r.length-t)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${o||"0"}${s?`.${s}`:""}`}function St(e,t="wei"){return Gt(e,sn[t])}function v(e,t="wei"){return Gt(e,an[t])}function De(e){const t=Object.entries(e).map(([n,o])=>o===void 0||o===!1?null:[n,o]).filter(Boolean),r=t.reduce((n,[o])=>Math.max(n,o.length),0);return t.map(([n,o])=>`  ${`${n}:`.padEnd(r+1)}  ${o}`).join(`
`)}class un extends d{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class cn extends d{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",De(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class dn extends d{constructor(t,{account:r,docsPath:n,chain:o,data:s,gas:i,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:l,to:h,value:f}){var p;const b=De({chain:o&&`${o==null?void 0:o.name} (id: ${o==null?void 0:o.id})`,from:r==null?void 0:r.address,to:h,value:typeof f<"u"&&`${St(f)} ${((p=o==null?void 0:o.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:s,gas:i,gasPrice:typeof a<"u"&&`${v(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${v(u)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${v(c)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",b].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class zt extends d{constructor({body:t,details:r,headers:n,status:o,url:s}){super("HTTP request failed.",{details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${lt(s)}`,t&&`Request body: ${He(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=n,this.status=o,this.url=s}}class ln extends d{constructor({body:t,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${lt(n)}`,`Request body: ${He(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code}}const fn=-1;class P extends d{constructor(t,{code:r,docsPath:n,metaMessages:o,shortMessage:s}){super(s,{cause:t,docsPath:n,metaMessages:o||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof ln?t.code:r??fn}}class L extends P{constructor(t,r){super(t,r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class _ extends P{constructor(t){super(t,{code:_.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class W extends P{constructor(t){super(t,{code:W.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(W,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class V extends P{constructor(t){super(t,{code:V.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(V,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class J extends P{constructor(t){super(t,{code:J.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(J,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class X extends P{constructor(t){super(t,{code:X.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(X,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Y extends P{constructor(t){super(t,{code:Y.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(Y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class K extends P{constructor(t){super(t,{code:K.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(K,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Z extends P{constructor(t){super(t,{code:Z.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(Z,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Q extends P{constructor(t){super(t,{code:Q.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(Q,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ee extends P{constructor(t){super(t,{code:ee.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(ee,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class te extends P{constructor(t){super(t,{code:te.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(te,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class re extends P{constructor(t){super(t,{code:re.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(re,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class B extends L{constructor(t){super(t,{code:B.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(B,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class ne extends L{constructor(t){super(t,{code:ne.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(ne,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class oe extends L{constructor(t){super(t,{code:oe.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(oe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class se extends L{constructor(t){super(t,{code:se.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(se,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ie extends L{constructor(t){super(t,{code:ie.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(ie,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class ae extends L{constructor(t){super(t,{code:ae.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(ae,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class hn extends P{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}class N extends d{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class pn extends d{constructor(t,{account:r,docsPath:n,chain:o,data:s,gas:i,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:l,to:h,value:f}){var p;const b=De({from:r==null?void 0:r.address,to:h,value:typeof f<"u"&&`${St(f)} ${((p=o==null?void 0:o.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:s,gas:i,gasPrice:typeof a<"u"&&`${v(a)} gwei`,maxFeePerGas:typeof u<"u"&&`${v(u)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${v(c)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class C extends d{constructor({cause:t,message:r}={}){var o;const n=(o=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:o.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(C,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class he extends d{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${v(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(he,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Oe extends d{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${v(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(Oe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class je extends d{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(je,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Te extends d{constructor({cause:t,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(Te,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Fe extends d{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(Fe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Ie extends d{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(Ie,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class Me extends d{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(Me,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Ce extends d{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(Ce,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Be extends d{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Be,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class pe extends d{constructor({cause:t,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${v(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${v(n)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(pe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class _e extends d{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function kt(e,t){const r=(e.details||"").toLowerCase(),n=e.walk(o=>o.code===C.code);return n instanceof d?new C({cause:e,message:n.details}):C.nodeMessage.test(r)?new C({cause:e,message:e.details}):he.nodeMessage.test(r)?new he({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Oe.nodeMessage.test(r)?new Oe({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):je.nodeMessage.test(r)?new je({cause:e,nonce:t==null?void 0:t.nonce}):Te.nodeMessage.test(r)?new Te({cause:e,nonce:t==null?void 0:t.nonce}):Fe.nodeMessage.test(r)?new Fe({cause:e,nonce:t==null?void 0:t.nonce}):Ie.nodeMessage.test(r)?new Ie({cause:e}):Me.nodeMessage.test(r)?new Me({cause:e,gas:t==null?void 0:t.gas}):Ce.nodeMessage.test(r)?new Ce({cause:e,gas:t==null?void 0:t.gas}):Be.nodeMessage.test(r)?new Be({cause:e}):pe.nodeMessage.test(r)?new pe({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new _e({cause:e})}function bn(e,{docsPath:t,...r}){const n=(()=>{const o=kt(e,r);return o instanceof _e?e:o})();return new pn(n,{docsPath:t,...r})}function Rt(e,{format:t}){if(!t)return{};const r={};function n(s){const i=Object.keys(s);for(const a of i)a in e&&(r[a]=e[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&n(s[a])}const o=t(e||{});return n(o),r}const yn={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function We(e){return{...e,gas:typeof e.gas<"u"?y(e.gas):void 0,gasPrice:typeof e.gasPrice<"u"?y(e.gasPrice):void 0,maxFeePerGas:typeof e.maxFeePerGas<"u"?y(e.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof e.maxPriorityFeePerGas<"u"?y(e.maxPriorityFeePerGas):void 0,nonce:typeof e.nonce<"u"?y(e.nonce):void 0,type:typeof e.type<"u"?yn[e.type]:void 0,value:typeof e.value<"u"?y(e.value):void 0}}function we(e){const{account:t,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:o,to:s}=e,i=t?F(t):void 0;if(i&&!$(i.address))throw new I({address:i.address});if(s&&!$(s))throw new I({address:s});if(typeof r<"u"&&(typeof n<"u"||typeof o<"u"))throw new un;if(n&&n>2n**256n-1n)throw new he({maxFeePerGas:n});if(o&&n&&o>n)throw new pe({maxFeePerGas:n,maxPriorityFeePerGas:o})}class gn extends d{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Ve extends d{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class mn extends d{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${v(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class wn extends d{constructor({blockHash:t,blockNumber:r}){let n="Block";t&&(n=`Block at hash "${t}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const Pn={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function xn(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?D(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?D(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Pn[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t}function vn(e){var r;const t=(r=e.transactions)==null?void 0:r.map(n=>typeof n=="string"?n:xn(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,difficulty:e.difficulty?BigInt(e.difficulty):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function be(e,{blockHash:t,blockNumber:r,blockTag:n,includeTransactions:o}={}){var l,h,f;const s=n??"latest",i=o??!1,a=r!==void 0?y(r):void 0;let u=null;if(t?u=await e.request({method:"eth_getBlockByHash",params:[t,i]}):u=await e.request({method:"eth_getBlockByNumber",params:[a||s,i]}),!u)throw new wn({blockHash:t,blockNumber:r});return(((f=(h=(l=e.chain)==null?void 0:l.formatters)==null?void 0:h.block)==null?void 0:f.format)||vn)(u)}async function Lt(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function En(e,t){var s,i,a;const{block:r,chain:n=e.chain,request:o}=t||{};if(typeof((s=n==null?void 0:n.fees)==null?void 0:s.defaultPriorityFee)=="function"){const u=r||await m(e,be,"getBlock")({});return n.fees.defaultPriorityFee({block:u,client:e,request:o})}if(typeof((i=n==null?void 0:n.fees)==null?void 0:i.defaultPriorityFee)<"u")return(a=n==null?void 0:n.fees)==null?void 0:a.defaultPriorityFee;try{const u=await e.request({method:"eth_maxPriorityFeePerGas"});return bt(u)}catch{const[u,c]=await Promise.all([r?Promise.resolve(r):m(e,be,"getBlock")({}),m(e,Lt,"getGasPrice")({})]);if(typeof u.baseFeePerGas!="bigint")throw new Ve;const l=c-u.baseFeePerGas;return l<0n?0n:l}}async function at(e,t){var f,b;const{block:r,chain:n=e.chain,request:o,type:s="eip1559"}=t||{},i=await(async()=>{var p,g;return typeof((p=n==null?void 0:n.fees)==null?void 0:p.baseFeeMultiplier)=="function"?n.fees.baseFeeMultiplier({block:r,client:e,request:o}):((g=n==null?void 0:n.fees)==null?void 0:g.baseFeeMultiplier)??1.2})();if(i<1)throw new gn;const u=10**(((f=i.toString().split(".")[1])==null?void 0:f.length)??0),c=p=>p*BigInt(Math.ceil(i*u))/BigInt(u),l=r||await m(e,be,"getBlock")({});if(typeof((b=n==null?void 0:n.fees)==null?void 0:b.estimateFeesPerGas)=="function")return n.fees.estimateFeesPerGas({block:r,client:e,multiply:c,request:o,type:s});if(s==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new Ve;const p=o!=null&&o.maxPriorityFeePerGas?o.maxPriorityFeePerGas:await En(e,{block:l,chain:n,request:o}),g=c(l.baseFeePerGas);return{maxFeePerGas:(o==null?void 0:o.maxFeePerGas)??g+p,maxPriorityFeePerGas:p}}return{gasPrice:(o==null?void 0:o.gasPrice)??c(await m(e,Lt,"getGasPrice")({}))}}async function $n(e,{address:t,blockTag:r="latest",blockNumber:n}){const o=await e.request({method:"eth_getTransactionCount",params:[t,n?y(n):r]});return D(o)}function An(e){if(e.type)return e.type;if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new cn({transaction:e})}async function Je(e,t){const{account:r=e.account,chain:n,gas:o,nonce:s,type:i}=t;if(!r)throw new N;const a=F(r),u=await m(e,be,"getBlock")({blockTag:"latest"}),c={...t,from:a.address};if(typeof s>"u"&&(c.nonce=await m(e,$n,"getTransactionCount")({address:a.address,blockTag:"pending"})),typeof i>"u")try{c.type=An(c)}catch{c.type=typeof u.baseFeePerGas=="bigint"?"eip1559":"legacy"}if(c.type==="eip1559"){const{maxFeePerGas:l,maxPriorityFeePerGas:h}=await at(e,{block:u,chain:n,request:c});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<h)throw new mn({maxPriorityFeePerGas:h});c.maxPriorityFeePerGas=h,c.maxFeePerGas=l}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Ve;const{gasPrice:l}=await at(e,{block:u,chain:n,request:c,type:"legacy"});c.gasPrice=l}return typeof o>"u"&&(c.gas=await m(e,On,"estimateGas")({...c,account:{address:a.address,type:"json-rpc"}})),we(c),c}async function On(e,t){var o,s,i;const r=t.account??e.account;if(!r)throw new N({docsPath:"/docs/actions/public/estimateGas"});const n=F(r);try{const{accessList:a,blockNumber:u,blockTag:c,data:l,gas:h,gasPrice:f,maxFeePerGas:b,maxPriorityFeePerGas:p,nonce:g,to:A,value:x,...O}=n.type==="local"?await Je(e,t):t,q=(u?y(u):void 0)||c;we(t);const Pe=(i=(s=(o=e.chain)==null?void 0:o.formatters)==null?void 0:s.transactionRequest)==null?void 0:i.format,ce=(Pe||We)({...Rt(O,{format:Pe}),from:n.address,accessList:a,data:l,gas:h,gasPrice:f,maxFeePerGas:b,maxPriorityFeePerGas:p,nonce:g,to:A,value:x}),xe=await e.request({method:"eth_estimateGas",params:q?[ce,q]:[ce]});return BigInt(xe)}catch(a){throw bn(a,{...t,account:n,chain:e.chain})}}class jn extends d{constructor({chain:t,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${t.id} – ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class Tn extends d{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}async function Fn(e){return new Promise(t=>setTimeout(t,e))}function Nt({chain:e,currentChainId:t}){if(!e)throw new Tn;if(t!==e.id)throw new jn({chain:e,currentChainId:t})}function In(e,{docsPath:t,...r}){const n=(()=>{const o=kt(e,r);return o instanceof _e?e:o})();return new dn(n,{docsPath:t,...r})}async function ye(e){const t=await e.request({method:"eth_chainId"});return D(t)}async function qt(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]})}async function Xe(e,t){var g,A,x,O;const{account:r=e.account,chain:n=e.chain,accessList:o,data:s,gas:i,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:l,to:h,value:f,...b}=t;if(!r)throw new N({docsPath:"/docs/actions/wallet/sendTransaction"});const p=F(r);try{we(t);let E;if(n!==null&&(E=await m(e,ye,"getChainId")({}),Nt({currentChainId:E,chain:n})),p.type==="local"){const ce=await m(e,Je,"prepareTransactionRequest")({account:p,accessList:o,chain:n,data:s,gas:i,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:l,to:h,value:f,...b});E||(E=await m(e,ye,"getChainId")({}));const xe=(g=n==null?void 0:n.serializers)==null?void 0:g.transaction,Dt=await p.signTransaction({...ce,chainId:E},{serializer:xe});return await m(e,qt,"sendRawTransaction")({serializedTransaction:Dt})}const q=(O=(x=(A=e.chain)==null?void 0:A.formatters)==null?void 0:x.transactionRequest)==null?void 0:O.format,Ke=(q||We)({...Rt(b,{format:q}),accessList:o,data:s,from:p.address,gas:i,gasPrice:a,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:l,to:h,value:f});return await e.request({method:"eth_sendTransaction",params:[Ke]})}catch(E){throw In(E,{...t,account:p,chain:t.chain||void 0})}}async function Mn(e,{abi:t,address:r,args:n,dataSuffix:o,functionName:s,...i}){const a=nn({abi:t,args:n,functionName:s});return await m(e,Xe,"sendTransaction")({data:`${a}${o?o.replace("0x",""):""}`,to:r,...i})}async function Cn(e,{chain:t}){const{id:r,name:n,nativeCurrency:o,rpcUrls:s,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:y(r),chainName:n,nativeCurrency:o,rpcUrls:s.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]})}const Ge=256;let le=Ge,fe;function Bn(e=11){if(!fe||le+e>Ge*2){fe="",le=0;for(let t=0;t<Ge;t++)fe+=(256+Math.random()*256|0).toString(16).substring(1)}return fe.substring(le,le+++e)}function Gn(e){const{batch:t,cacheTime:r=e.pollingInterval??4e3,key:n="base",name:o="Base Client",pollingInterval:s=4e3,type:i="base"}=e,a=e.chain,u=e.account?F(e.account):void 0,{config:c,request:l,value:h}=e.transport({chain:a,pollingInterval:s}),f={...c,...h},b={account:u,batch:t,cacheTime:r,chain:a,key:n,name:o,pollingInterval:s,request:l,transport:f,type:i,uid:Bn()};function p(g){return A=>{const x=A(g);for(const E in b)delete x[E];const O={...g,...x};return Object.assign(O,{extend:p(O)})}}return Object.assign(b,{extend:p(b)})}function Sn(e,{delay:t=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((o,s)=>{const i=async({count:a=0}={})=>{const u=async({error:c})=>{const l=typeof t=="function"?t({count:a,error:c}):t;l&&await Fn(l),i({count:a+1})};try{const c=await e();o(c)}catch(c){if(a<r&&await n({count:a,error:c}))return u({error:c});s(c)}};i()})}const zn=e=>"code"in e?e.code!==-1&&e.code!==-32004&&e.code!==-32005&&e.code!==-32042&&e.code!==-32603:e instanceof zt&&e.status?e.status!==403&&e.status!==408&&e.status!==413&&e.status!==429&&e.status!==500&&e.status!==502&&e.status!==503&&e.status!==504:!1;function kn(e,{retryDelay:t=150,retryCount:r=3}={}){return async n=>Sn(async()=>{try{return await e(n)}catch(o){const s=o;switch(s.code){case _.code:throw new _(s);case W.code:throw new W(s);case V.code:throw new V(s);case J.code:throw new J(s);case X.code:throw new X(s);case Y.code:throw new Y(s);case K.code:throw new K(s);case Z.code:throw new Z(s);case Q.code:throw new Q(s);case ee.code:throw new ee(s);case te.code:throw new te(s);case re.code:throw new re(s);case B.code:throw new B(s);case ne.code:throw new ne(s);case oe.code:throw new oe(s);case se.code:throw new se(s);case ie.code:throw new ie(s);case ae.code:throw new ae(s);case 5e3:throw new B(s);default:throw o instanceof d?o:new hn(s)}}},{delay:({count:o,error:s})=>{var i;if(s&&s instanceof zt){const a=(i=s==null?void 0:s.headers)==null?void 0:i.get("Retry-After");if(a!=null&&a.match(/\d/))return parseInt(a)*1e3}return~~(1<<o)*t},retryCount:r,shouldRetry:({error:o})=>!zn(o)})}function Rn({key:e,name:t,request:r,retryCount:n=3,retryDelay:o=150,timeout:s,type:i},a){return{config:{key:e,name:t,request:r,retryCount:n,retryDelay:o,timeout:s,type:i},request:kn(r,{retryCount:n,retryDelay:o}),value:a}}function Ln(e,t={}){const{key:r="custom",name:n="Custom Provider",retryDelay:o}=t;return({retryCount:s})=>Rn({key:r,name:n,request:e.request.bind(e),retryCount:t.retryCount??s,retryDelay:o,type:"custom"})}function Nn(e,t){if(!$(e))throw new I({address:e});if(!$(t))throw new I({address:t});return e.toLowerCase()===t.toLowerCase()}function Ut(e,t={}){const{fees:r=e.fees,formatters:n=e.formatters,serializers:o=e.serializers}=t;return{...e,fees:r,formatters:n,serializers:o}}const qn=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Un=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Hn({domain:e,message:t,primaryType:r,types:n}){const o=n,s=(i,a)=>{for(const u of i){const{name:c,type:l}=u,h=l,f=a[c],b=h.match(Un);if(b&&(typeof f=="number"||typeof f=="bigint")){const[A,x,O]=b;y(f,{signed:x==="int",size:parseInt(O)/8})}if(h==="address"&&typeof f=="string"&&!$(f))throw new I({address:f});const p=h.match(qn);if(p){const[A,x]=p;if(x&&w(f)!==parseInt(x))throw new nr({expectedSize:parseInt(x),givenSize:w(f)})}const g=o[h];g&&s(g,f)}};if(o.EIP712Domain&&e&&s(o.EIP712Domain,e),r!=="EIP712Domain"){const i=o[r];s(i,t)}}function Dn({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const ve="/docs/contract/encodeDeployData";function _n({abi:e,args:t,bytecode:r}){if(!t||t.length===0)return r;const n=e.find(s=>"type"in s&&s.type==="constructor");if(!n)throw new Zt({docsPath:ve});if(!("inputs"in n))throw new Qe({docsPath:ve});if(!n.inputs||n.inputs.length===0)throw new Qe({docsPath:ve});const o=It(n.inputs,t);return Ne([r,o])}function Wn(e,{abi:t,args:r,bytecode:n,...o}){const s=_n({abi:t,args:r,bytecode:n});return Xe(e,{...o,data:s})}async function Vn(e){var r;return((r=e.account)==null?void 0:r.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"})).map(n=>Bt(n))}async function Jn(e){return await e.request({method:"wallet_getPermissions"})}async function Xn(e){return(await e.request({method:"eth_requestAccounts"})).map(r=>on(r))}async function Yn(e,t){return e.request({method:"wallet_requestPermissions",params:[t]})}async function Kn(e,{account:t=e.account,message:r}){if(!t)throw new N({docsPath:"/docs/actions/wallet/signMessage"});const n=F(t);if(n.type==="local")return n.signMessage({message:r});const o=(()=>typeof r=="string"?ze(r):r.raw instanceof Uint8Array?yt(r.raw):r.raw)();return e.request({method:"personal_sign",params:[o,n.address]})}async function Zn(e,t){var c,l,h,f;const{account:r=e.account,chain:n=e.chain,...o}=t;if(!r)throw new N({docsPath:"/docs/actions/wallet/signTransaction"});const s=F(r);we({account:s,...t});const i=await m(e,ye,"getChainId")({});n!==null&&Nt({currentChainId:i,chain:n});const a=(n==null?void 0:n.formatters)||((c=e.chain)==null?void 0:c.formatters),u=((l=a==null?void 0:a.transactionRequest)==null?void 0:l.format)||We;return s.type==="local"?s.signTransaction({...o,chainId:i},{serializer:(f=(h=e.chain)==null?void 0:h.serializers)==null?void 0:f.transaction}):await e.request({method:"eth_signTransaction",params:[{...u(o),chainId:y(i),from:s.address}]})}async function Qn(e,{account:t=e.account,domain:r,message:n,primaryType:o,types:s}){if(!t)throw new N({docsPath:"/docs/actions/wallet/signTypedData"});const i=F(t),a={EIP712Domain:Dn({domain:r}),...s};if(Hn({domain:r,message:n,primaryType:o,types:a}),i.type==="local")return i.signTypedData({domain:r,primaryType:o,types:a,message:n});const u=He({domain:r??{},primaryType:o,types:a,message:n},(c,l)=>z(l)?l.toLowerCase():l);return e.request({method:"eth_signTypedData_v4",params:[i.address,u]})}async function eo(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:y(t)}]})}async function to(e,t){return await e.request({method:"wallet_watchAsset",params:t})}function ro(e){return{addChain:t=>Cn(e,t),deployContract:t=>Wn(e,t),getAddresses:()=>Vn(e),getChainId:()=>ye(e),getPermissions:()=>Jn(e),prepareTransactionRequest:t=>Je(e,t),requestAddresses:()=>Xn(e),requestPermissions:t=>Yn(e,t),sendRawTransaction:t=>qt(e,t),sendTransaction:t=>Xe(e,t),signMessage:t=>Kn(e,t),signTransaction:t=>Zn(e,t),signTypedData:t=>Qn(e,t),switchChain:t=>eo(e,t),watchAsset:t=>to(e,t),writeContract:t=>Mn(e,t)}}function no(e){const{key:t="wallet",name:r="Wallet Client",transport:n}=e;return Gn({...e,key:t,name:r,transport:s=>n({...s,retryCount:0}),type:"walletClient"}).extend(ro)}const oo=Ut({id:31337,name:"Hardhat",network:"hardhat",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"]},public:{http:["http://127.0.0.1:8545"]}}}),so=Ut({id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0x21B000Fd62a880b2125A61e36a284BB757b76025",blockCreated:3914906}},testnet:!0}),io=[oo,so],Ye=e=>{if(!e)return;const t=typeof e=="string"?D(e):e;return io.find(r=>r.id===t)},po=()=>!!window.ethereum,Ht=e=>no({transport:Ln(window.ethereum)}),bo=async e=>(await e.requestAddresses())[0],yo=async(e,t)=>{const r={...e,value:BigInt(e.value),gas:BigInt(e.gas),nonce:e.nonce&&BigInt(e.nonce)};return console.log("Message to be signed: ",r),await(await co()).signTypedData({account:G(ue),message:r,types:{ForwardRequest:Wt.ForwardRequest},primaryType:"ForwardRequest",domain:{...t}})},ao="0x0000000000000000000000000000000000000000",M=Se(),ge=Se(),ue=Se(),me=()=>window.ethereum,ut=e=>{Nn(e[0],G(ue)||ao)||(console.log("Account has changed to: ",e[0]),ue.set(e[0].toLowerCase()))},ct=e=>{var t;console.log(new Date,"Chain has changed to: ",e),M.set(Ht()),ge.set(Ye(e)),console.log(new Date,"Chain Name: ",(t=G(M).chain)==null?void 0:t.name)};M.subscribe(e=>{var t,r,n;(t=me())==null||t.removeListener("chainChanged",ct),e&&(ge.set(Ye((r=G(M).chain)==null?void 0:r.id)),(n=me())==null||n.on("chainChanged",ct))});ue.subscribe(e=>{var t,r;(t=me())==null||t.removeListener("accountsChanged",ut),e&&((r=me())==null||r.on("accountsChanged",ut))});const uo=async()=>{if(!window.ethereum){_t('No se encontró una "Wallet" instalada en el navegador.');return}console.log("Ether?",window.ethereum),console.log("firstConnect...");const e=Ht(),t=Ye(await e.getChainId());if(console.log("chain:",t),!ge)throw new Error("Chain not supported");console.log("wallet chain::",t==null?void 0:t.name),M.set(e),ge.set(t);const r=await e.requestAddresses();console.log("Account:",r[0]),ue.set(r[0].toLowerCase())},co=async()=>(G(M)||await uo(),G(M));export{M as a,ge as b,Ht as c,po as e,uo as f,bo as g,yo as s,ue as w};
