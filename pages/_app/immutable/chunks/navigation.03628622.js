import{w as f,d as c}from"./index.360b1b54.js";import{Y as l}from"./scheduler.5287e156.js";import{h as b}from"./singletons.cdfc632e.js";const e=typeof window<"u"?window.localStorage:null;function s(t,r){const o=f(r),{subscribe:p,set:m}=o;let u;return r==null?(u=e==null?void 0:e.getItem(t),u&&(r=JSON.parse(u))):(u=JSON.stringify(r),e==null||e.setItem(t,u)),m(r),{subscribe:p,set:i=>{e==null||e.setItem(t,JSON.stringify(i)),m(i)},update:i=>{const d=i(l(o));e==null||e.setItem(t,JSON.stringify(d)),m(d)}}}const a=s("token",null),n=f(),J=c(n,t=>!!t),O=c(n,t=>t==null?void 0:t.account);c(n,t=>!!(t!=null&&t.role));const h=c(n,t=>(t==null?void 0:t.role)==="admin"),A=c(n,t=>t==null?void 0:t.fullName),D=c(n,t=>t==null?void 0:t.id),w=t=>{if(!t)n.set(void 0);else{const r=JSON.parse(atob(t.split(".")[1]));n.set(r)}};a.subscribe(w);const g=()=>{a.set(null)},T=b("goto");export{h as a,O as b,g as c,D as d,a as e,T as g,J as i,s as p,A as u};
